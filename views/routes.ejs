<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Routes</title>
    <link rel="stylesheet" type="text/css"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/css/navbar.css">
    <link rel="stylesheet" type="text/css" href="/css/main.css">
    <link rel="stylesheet" type="text/css" href="/css/routes.css">
</head>

<body>

<!-- Nav -->
<header>
    <div class="logo">LOGO</div>
    <nav>
        <ul>
            <li><a href="#">HOME</a></li>
            <li><a href="#">ROUTES</a></li>
            <li><a href="#">GROUPS</a></li>
            <li><a href="#">ABOUT</a></li>
            <li class="sub-menu"><a href="#"><i class="fa fa-user-circle-o user-logo" aria-hidden="true"></i></a>
                <ul>
                    <li><a href="/climbers/myprofile">My profile</a></li>
                    <li><a href="/logout">Log out</a></li>
                    <li><a href="#">Item 3</a></li>
                </ul>
            </li>
        </ul>
    </nav>
    <div class="menu-toggle"><i class="fa fa-bars" aria-hidden="true"></i></div>
</header>

<!-- Content -->
<div class="searchContainer">
    <div class="search-bar">
        <div class="select-box">
            <label for="climbing-type">Climbing type:</label>
            <select name="climbing-type" id="climbing-type" class="select-field">
                <option value=""></option>
            </select>
        </div>
        <div class="select-box">
            <label for="location-country">Country:</label>
            <select name="location-country" id="location-country" class="select-field">
                <option value=""></option>
            </select>
        </div>
        <div class="select-box">
            <label for="location-state">State:</label>
            <select name="location-state" id="location-state" class="select-field">
                <option value=""></option>
            </select>
        </div>
    </div>
</div>
    <form action="/climbers/addProject" class="group-form-popup" id="group-form-popup" method="post">
    <label for="project-date">When do you want to go?</label>
    <input type="date" id="project-date" class="input" name="Date" />
    <label for="project-time">What time?</label>
    <input type="time" id="project-time" class="input" name="Time" />
    <div class="buttons-container">
    <button class="btn" onclick="hidePopUp()">Cancel</button>

    <input type="submit" class="btn" value="Confirm" />
    </div>
    </form>

<div class="contentContainer">
    <div class="left-container">
    <% for(let i = 0; i < routes.length; i++) {
        let picture;
        if (routes[i].picture1 === null) {
            picture = 'image-not-found.png'
        } else {picture = routes[i].picture1} %>

        <div onclick="selectRoute('<%= routes[i].RID %>')" class="routes-box" data-LocationCountry="<%= routes[i].LocationCountry %>"
             data-Type="<%= routes[i].Type %>" data-LocationState="<%= routes[i].LocationState %>">
            <p><strong><%= routes[i].Name %></strong></p>
            <p><%= routes[i].Description %></p>
            <div class="route-img"><%= routes[i].picture1 %></div>
            <div class="route-info-container-mobile" id="<%= routes[i].RID %>-mobile">
                <div class="route-info-img">
                    <img src="/uploads/<%= picture %>" alt=""></div>
                <div class="route-info">
                    <h2><%= routes[i].LocationCountry %>, <%= routes[i].LocationMountain %></h2>
                </div>
                <button class="btn" onclick="showPopUp('<%= routes[i].RID %>')">Go there</button>
            </div>
        </div>
    <% } %>
    </div>

<div class="right-container">
    <% for(let i = 0; i < routes.length; i++) {
        let picture;
    if (routes[i].picture1 === null) {
        picture = 'image-not-found.png'
    } else {picture = routes[i].picture1} %>

    <div class="route-info-container" id="<%= routes[i].RID %>">
        <div class="route-info-left">
            <div class="route-info-label">
            <h1><%= routes[i].LocationCountry %></h1>
            <h2><%= routes[i].LocationState %>, <%= routes[i].LocationMountain %>, <%= routes[i].LocationMArea %></h2>
            <br>
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d35139.376805862456!2d9.934659818956723!3d47.18173915946212!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x479b59c14043029b%3A0x3192caf94bd87b8b!2sRote%20Wand!5e0!3m2!1sfr!2sat!4v1655737546330!5m2!1sfr!2sat" width="400" height="300" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>
            <div class="route-info-details">
                <div class="icon">
                    <i class="fa fa-tasks" aria-hidden="true"></i>
                    <p class="details"><%= routes[i].Cotation %></p>
                </div>
                <div class="icon">
                    <i class="fa fa-align-right" aria-hidden="true"></i>
                    <p class="details"><%= routes[i].Altitude %> m</p>
                </div>
                <div class="icon">
                    <i class="fa fa-sun-o" aria-hidden="true"></i>
                    <p class="details"><%= routes[i].Exposure %> side</p>
                </div>
                <div class="icon">
                    <i class="fa fa-hand-rock-o" aria-hidden="true"></i>
                    <p class="details"><%= routes[i].RockType %></p>
                </div>
                <div class="icon">
                    <i class="fa fa-long-arrow-up" aria-hidden="true"></i>
                    <p class="details"><%= routes[i].Length %> m</p>
                </div>
            </div>
        </div>
        <div class="route-info-img">
            <img src="/uploads/<%= picture %>" alt=""></div>
        <button class="btn" onclick="showPopUp('<%= routes[i].RID %>')">Go there</button>

    </div>
        <% } %>
</div>
</div>


<script src="https://code.jquery.com/jquery-3.3.1.js"></script>
<script src="/js/navbar.js"></script>
<script>
    let routes = <%- routesJSON %>
</script>
<script src="/js/routes.js"></script>
</body>

</html>